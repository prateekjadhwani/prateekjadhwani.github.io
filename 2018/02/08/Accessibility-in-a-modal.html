<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Accessibility in a modal</title>
    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="//prateekjadhwani.github.io/themes/Casper/favicon.ico">

    <link rel="stylesheet" type="text/css" href="//prateekjadhwani.github.io/themes/Casper/assets/css/screen.css?v=1.0.0" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />

    <link rel="canonical" href="https://prateekjadhwani.github.io/2018/02/08/Accessibility-in-a-modal.html" />
    
    <meta property="og:site_name" content="Prateek Jadhwani" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Accessibility in a modal" />
    <meta property="og:description" content="It is said that you learn a new thing every day, and so I did. Accessibility has been in the market for a very long time and even then, I did not have a chance to implement it in a..." />
    <meta property="og:url" content="https://prateekjadhwani.github.io/2018/02/08/Accessibility-in-a-modal.html" />
    <meta property="article:published_time" content="2018-02-08T05:00:00.000Z" />
    <meta property="article:modified_time" content="2018-02-09T00:49:12.193Z" />
    <meta property="article:tag" content="accessibility" />
    <meta property="article:tag" content="modal" />
    <meta property="article:tag" content="html5" />
    <meta property="article:tag" content="css3" />
    <meta property="article:tag" content="javascript" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Accessibility in a modal" />
    <meta name="twitter:description" content="It is said that you learn a new thing every day, and so I did. Accessibility has been in the market for a very long time and even then, I did not have a chance to implement it in a..." />
    <meta name="twitter:url" content="https://prateekjadhwani.github.io/2018/02/08/Accessibility-in-a-modal.html" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Prateek Jadhwani",
    "author": {
        "@type": "Person",
        "name": "Prateek Jadhwani",
        "image": "https://avatars0.githubusercontent.com/u/2219900?v=4",
        "url": "undefined/author/undefined",
        "sameAs": "https://prateekjadhwani.github.io"
    },
    "headline": "Accessibility in a modal",
    "url": "https://prateekjadhwani.github.io/2018/02/08/Accessibility-in-a-modal.html",
    "datePublished": "2018-02-08T05:00:00.000Z",
    "dateModified": "2018-02-09T00:49:12.193Z",
    "keywords": "accessibility,  modal,  html5,  css3,  javascript",
    "description": "It is said that you learn a new thing every day, and so I did. Accessibility has been in the market for a very long time and even then, I did not have a chance to implement it in a..."
}
    </script>

    <meta name="generator" content="Ghost ?" />
    <link rel="alternate" type="application/rss+xml" title="Prateek Jadhwani" href="https://prateekjadhwani.github.io/rss" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
</head>
<body class="post-template tag-accessibility tag-modal tag-html5 tag-css3 tag-javascript">

    


<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        <a class="back-button icon-arrow-left" href="https://prateekjadhwani.github.io">Home</a>
        <!-- <a class="subscribe-button icon-feed" href="https://prateekjadhwani.github.io/rss/">Subscribe</a> -->
    </nav>
</header>

<main class="content" role="main">

    <article class="post tag-accessibility tag-modal tag-html5 tag-css3 tag-javascript">

        <header class="post-header">
            <h1 class="post-title">Accessibility in a modal</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2018-02-08">08 February 2018</time>  on <a href="https://prateekjadhwani.github.io/tag/accessibility">accessibility</a>, <a href="https://prateekjadhwani.github.io/tag/modal"> modal</a>, <a href="https://prateekjadhwani.github.io/tag/html5"> html5</a>, <a href="https://prateekjadhwani.github.io/tag/css3"> css3</a>, <a href="https://prateekjadhwani.github.io/tag/javascript"> javascript</a>
            </section>
        </header>

        <section class="post-content">
            <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>It is said that you learn a new thing every day, and so I did. Accessibility has been in the market for a very long time and even then, I did not have a chance to implement it in a modal.</p>
</div>
<div class="paragraph">
<p>But then few days ago, a new user story happened. <em>Make sure that the modal that shows blah blah blah information about blah blah blah thing needs to be accessible and should be read by blah blah blah screen reader.</em></p>
</div>
<div class="paragraph">
<p>Without the accessibility features, this is what the modal looks like. Click on the button to open the modal. You should be able to notice that if you keep on pressing the <code>tab</code> key, and it will still focus the buttons behind the modal. This case is the same if you are reading it with the help of a screen reader.</p>
</div>
<p data-height="609" data-theme-id="3991" data-slug-hash="VQPxYx" data-default-tab="result" data-user="prateekjadhwani" data-embed-version="2" data-pen-title="Modal" class="codepen">See the Pen <a href="https://codepen.io/prateekjadhwani/pen/VQPxYx/">Modal</a> by Prateek Jadhwani (<a href="https://codepen.io/prateekjadhwani">@prateekjadhwani</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>
<div class="paragraph">
<p>In order to make this accessible, we will need to follow a checklist.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_1_tell_the_accessibilty_devices_that_what_you_are_displaying_is_a_dialog">1. Tell the accessibilty devices that what you are displaying is a dialog.</h3>
<div class="paragraph">
<p>This is done with the help of <code>role="dialog"</code>. For Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;div class="modal-container" role="dialog" aria-label="Modal for Lorem Ipsum"&gt;
  ...
  ...
&lt;/div&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_2_focus_the_modal_when_it_opens">2. Focus the modal when it opens.</h3>
<div class="paragraph">
<p>The modal html might be present at any section of the DOM. You do not want your users to keep on tabbing through the sections right after the button or link that opens up the modal. This is where you need to shift focus to the modal; because the screen reader needs to read the text inside the modal.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">function openModal() {
    ...
    ...
    ...
    document.querySelector(".modal").focus();
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_3_make_close_button_keyboard_accessible">3. Make close button keyboard accessible</h3>
<div class="paragraph">
<p>Your button should get triggered via Enter / Return key as well because you do need a way for the people reading on screen readers to close it.</p>
</div>
<div class="paragraph">
<p>If you code is not using the &lt;button&gt; tag and is instead using &lt;span&gt; tag or some other tags, you will need to make sure that it can be focussed with the help of tab keys. You can do that by adding <code>aria-label</code> and <code>tabindex</code> attributes. For Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;span class="modal-close" aria-label="close" tabindex="0"&gt;X&lt;/span&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_4_make_sure_that_esc_key_closes_the_modal">4. Make sure that Esc key closes the modal.</h3>
<div class="paragraph">
<p>This is really handy when a user is going through the modal and decides to close the modal anytime without going through all the contents.</p>
</div>
<div class="paragraph">
<p>Add the event listener for key presses.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">document.querySelector('.modal-container')
    .addEventListener('keydown', handleESCKeyEventListener);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then this handleESCKeyEventListener function would look something like this.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const isOpen = document.querySelector('.modal-container')
                  .classList.contains('-open');
if (e.keyCode === 27 &amp;&amp; isOpen) {
    closeModal();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also, dont forget to remove this keydown event listener when you close the modal.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">function closeModal() {
    ...
    ...
    document.querySelector('.modal-container')
        .removeEventListener('keydown', handleESCKeyEventListener);
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_5_lock_the_focus_to_just_the_modal">5. Lock the focus to just the modal</h3>
<div class="paragraph">
<p>When the user is inside the modal, and if he keeps on pressing tab key, the focus will eventually go out of the modal container. In order to stop the user focus to go out, we are going to use the <code>focusout</code> event handler.</p>
</div>
<div class="paragraph">
<p>First we need to bind the focus out event to the modal container</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">document.querySelector('.modal-container')
    .addEventListener('focusout', handleFocusOut);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then we need to make sure that the <code>relatedTarget</code> is outsite of the modal container to make it focus the modal again.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">function handleFocusOut(e) {
  const modalDOM = document.querySelector('.modal-container');
  const isOpen = modalDOM.classList.contains('-open');
  if(isOpen &amp;&amp; !modalDOM.contains(e.relatedTarget)) {
    e.stopPropagation();
    document.querySelector(".modal").focus();
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_6_focus_back_to_the_next_element">6. Focus back to the next element</h3>
<div class="paragraph">
<p>In order to move the focus to the element which was selected before opening the modal, we will first need to get the last focussed element.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">function openModal() {
    lastFocussedElement = document.activeElement;
    ...
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And now inside the close method, we can set focus back to this <code>lastFocussedElement</code> element.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">function closeModal() {
    ...
    ...
    lastFocussedElement.focus();
}</code></pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_final_product">Final Product</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After implementing all these points, the final demo looks something like this. Try using the tab keys or the screen reader.</p>
</div>
<p data-height="549" data-theme-id="3991" data-slug-hash="GQrdpw" data-default-tab="result" data-user="prateekjadhwani" data-embed-version="2" data-pen-title="Modal with Accessibility" class="codepen">See the Pen <a href="https://codepen.io/prateekjadhwani/pen/GQrdpw/">Modal with Accessibility</a> by Prateek Jadhwani (<a href="https://codepen.io/prateekjadhwani">@prateekjadhwani</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>
</div>
</div>
<div class="sect1">
<h2 id="_references">References</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[1] <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques/Using_the_dialog_role" class="bare">https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques/Using_the_dialog_role</a></p>
</div>
<div class="paragraph">
<p>[2] <a href="https://www.smashingmagazine.com/2014/09/making-modal-windows-better-for-everyone/" class="bare">https://www.smashingmagazine.com/2014/09/making-modal-windows-better-for-everyone/</a></p>
</div>
</div>
</div>
        </section>

        <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="" style="background-image: url(https://avatars0.githubusercontent.com/u/2219900?v=4)"><span class="hidden">Prateek Jadhwani's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="">Prateek Jadhwani</a></h4>

                    <p>Read <a href="">more posts</a> by this author.</p>
                <div class="author-meta">
                    <span class="author-location icon-location">United States</span>
                    <span class="author-link icon-link"><a href="https://prateekjadhwani.github.io">https://prateekjadhwani.github.io</a></span>
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/share?text=Accessibility%20in%20a%20modal&amp;url=https://prateekjadhwani.github.io/2018/02/08/Accessibility-in-a-modal.html"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://prateekjadhwani.github.io/2018/02/08/Accessibility-in-a-modal.html"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=https://prateekjadhwani.github.io/2018/02/08/Accessibility-in-a-modal.html"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>


        <section class="post-comments">
          <div id="disqus_thread"></div>
          <script type="text/javascript">
          var disqus_shortname = 'prateekjadhwani'; // required: replace example with your forum shortname
          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </section>


    </article>

</main>



    <footer class="site-footer clearfix">
        <section class="copyright"><a href="https://prateekjadhwani.github.io">Prateek Jadhwani</a> &copy; 2018</section>
        <section class="poweredby">Proudly published with <a href="http://hubpress.io">HubPress</a></section>
    </footer>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();      
      </script>

    <script type="text/javascript" src="//prateekjadhwani.github.io/themes/Casper/assets/js/jquery.fitvids.js?v=1.0.0"></script>
    <script type="text/javascript" src="//prateekjadhwani.github.io/themes/Casper/assets/js/index.js?v=1.0.0"></script>

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-65947202-1', 'auto');
    ga('send', 'pageview');

    </script>
</body>
</html>
